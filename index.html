<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=1274, user-scalable=no">
    <title>Rails is Magic</title>
    <link rel="stylesheet" href="Rails%20is%20Magic_files/style.css">
    <link rel="stylesheet" href="Rails%20is%20Magic_files/colorful.css">
      <link rel="stylesheet" href="Rails%20is%20Magic_files/main.asc">
  </head>
  <body class="list">
    <header class="caption">
      <h1>Rails is Magic</h1>
    </header>
        <div id="slide-0-0" class="slide ">
          <div><section>
            <h1>Who's this guy?</h1>

<p><link href="Rails%20is%20Magic_files/nic-changes.css" media="screen" rel="stylesheet" type="text/css">
</p><div class="left">
  <img src="Rails%20is%20Magic_files/nic.png" alt="nics-face" style="height: 250px;">
</div>
<div class="right">
  <h2>Nicolas Alpi</h2>
  <p>
  </p><ul class="small">
    <li><strong>Ruby/Rails developer</strong></li>
    <li><strong>co-founder of wealsodocookies Rails shop</strong></li>
    <li><strong>co-organiser of BRUG</strong></li>
    <li><a href="https://twitter.com/spyou">@spyou</a></li>
    <li><a href="mailto:nicolas@wealsodocookies.com">nicolas@wealsodocookies.com</a></li>
  </ul>
  <p></p>
</div><p></p>

          </section></div>
        </div>
        <div id="slide-0-1" class="slide ">
          <div><section>
            <h1>BRUG == Bristol Ruby User Group</h1>

<ul>
<li>Early 2009: First BRUG</li>
<li>Now 2 main organisors</li>
<li>90 Members</li>
<li>10 to 15 people in average to each event</li>
<li>1 Skillswap</li>
<li>We've lost count of beer pints consumed</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-2" class="slide ">
          <div><section>
            <h1>BRUG goals</h1>

<ul>
<li>Promote Ruby and Rails in the South West.</li>
<li>Help people getting up and running.</li>
<li>Share knowledge thought talk and presentations.</li>
<li>Giving you the urge to install it and try it.</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-3" class="slide ">
          <div><section>
            <h1>Ruby on Rails is Magic</h1>

<h2>What I would like to share with you</h2>

<ul>
<li>My passion for Ruby</li>
<li>My passion for Rails</li>
<li>Getting the grips of the Rails awesomeness</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-4" class="slide ">
          <div><section>
            <h1>A bit of History</h1>

<ul>
<li>1993: First version of Ruby is out</li>
<li>2003: Ruby 1.8</li>
<li>2005: Rails 1.0 is out!</li>
<li>2012: Ruby 1.9.3</li>
<li>2012: Rails 3.2 is out!</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-5" class="slide ">
          <div><section>
            <h1>Ruby class declaration</h1>

<p></p><pre><code class="ruby"><span class="k">class</span> <span class="nc">A</span>

<span class="k">end</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-6" class="slide ">
          <div><section>
            <h1>Ruby class inheritance</h1>

<p></p><pre><code class="ruby"><span class="k">class</span> <span class="nc">A</span> <span class="o">&lt;</span> <span class="n">B</span>

<span class="k">end</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-7" class="slide ">
          <div><section>
            <h1>Ruby method definition</h1>

<p></p><pre><code class="ruby"><span class="k">class</span> <span class="nc">A</span> <span class="o">&lt;</span> <span class="n">B</span>
  <span class="k">def</span> <span class="nf">say_hello</span>
    <span class="nb">puts</span> <span class="s2">"Hello World"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-8" class="slide ">
          <div><section>
            <h1>Ruby code is beautiful</h1>

<h2>Remember this?</h2>

<p></p><pre><code class="php"><span class="x">for ($i = 1; $i &lt;= 10; $i++) {</span>
<span class="x">    echo $i;</span>
<span class="x">}</span>
</code></pre><p></p>

<h2>Found it redeable?</h2>

          </section></div>
        </div>
        <div id="slide-0-9" class="slide ">
          <div><section>
            <h1>Ruby code is beautiful</h1>

<h2>What about that?</h2>

<p></p><pre><code class="ruby"><span class="mi">10</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="s2">"Hello Word"</span>
<span class="k">end</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-10" class="slide ">
          <div><section>
            <h1>Ruby code is beautiful</h1>

<h2>Even better</h2>

<p></p><pre><code class="ruby"><span class="nb">puts</span> <span class="s2">"Hello World"</span> <span class="o">*</span> <span class="mi">10</span>
</code></pre><p></p>

<h2>It's all about readability</h2>

          </section></div>
        </div>
        <div id="slide-0-11" class="slide ">
          <div><section>
            <h1>Ruby strings</h1>

<p></p><pre><code class="ruby"><span class="s2">"Nicolas"</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;&gt;</span> <span class="mi">7</span>
<span class="s2">"Nicolas"</span><span class="o">.</span><span class="n">upcase</span> <span class="o">&gt;&gt;</span> <span class="s2">"NICOLAS"</span>
<span class="s2">"Nicolas"</span><span class="o">.</span><span class="n">reverse</span> <span class="o">&gt;&gt;</span> <span class="s2">"salociN"</span>
<span class="s2">"Nicolas"</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="s2">"las"</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="kp">true</span>
<span class="s2">"12356"</span> <span class="o">&lt;=&gt;</span> <span class="s2">"1234567"</span> <span class="o">&gt;&gt;</span> <span class="o">-</span><span class="mi">1</span>
<span class="mi">40</span><span class="o">.</span><span class="n">reverse</span> <span class="o">&gt;&gt;</span> <span class="c1">#&lt;NoMethodError: undefined method `reverse' for 40:Fixnum&gt;</span>
<span class="mi">40</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">reverse</span> <span class="o">&gt;&gt;</span> <span class="s2">"04"</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-12" class="slide ">
          <div><section>
            <h1>Ruby arrays</h1>

<p></p><pre><code class="ruby"><span class="o">[]</span> <span class="o">&gt;&gt;</span> <span class="nb">Array</span>
<span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">].</span><span class="n">max</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span>
<span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span> <span class="o">+</span> <span class="o">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span> <span class="o">&gt;&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">]</span>
<span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span> <span class="o">&amp;</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span> <span class="o">&gt;&gt;</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
<span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="o">].</span><span class="n">uniq</span> <span class="o">&gt;&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
<span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">i</span> <span class="k">end</span> <span class="o">&gt;&gt;</span> <span class="mi">123</span>
<span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">].</span><span class="n">join</span><span class="p">(</span><span class="s2">"  "</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-13" class="slide ">
          <div><section>
            <h1>Ruby hashes</h1>

<p></p><pre><code class="ruby"><span class="p">{}</span> <span class="o">&gt;&gt;</span> <span class="no">Hash</span>
<span class="vi">@person</span> <span class="o">=</span> <span class="p">{</span><span class="n">first_name</span><span class="p">:</span> <span class="s2">"Nicolas"</span><span class="p">,</span> <span class="n">last_name</span><span class="p">:</span> <span class="s2">"Alpi"</span><span class="p">}</span>
<span class="vi">@person</span><span class="o">.</span><span class="n">first_name</span> <span class="o">&gt;&gt;</span> <span class="s2">"Nicolas"</span>
<span class="vi">@person</span><span class="o">.</span><span class="n">merge</span> <span class="p">{</span><span class="n">company</span><span class="p">:</span> <span class="s2">"We Also Do Cookies"</span><span class="p">}</span>
<span class="o">&gt;&gt;</span> <span class="p">{</span><span class="n">first_name</span><span class="p">:</span> <span class="s2">"Nicolas"</span><span class="p">,</span> <span class="n">last_name</span><span class="p">:</span> <span class="s2">"Alpi"</span><span class="p">,</span> <span class="n">company</span><span class="p">:</span> <span class="s2">"We Also Do Cookies"</span><span class="p">}</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-14" class="slide ">
          <div><section>
            <h1>Rails</h1>

<p>External Ruby libraries are called <strong>Gems</strong> and are managed using <strong>RubyGem</strong></p>

<p></p><pre><code class="bash">gem install rails
<span class="c"># Will install rails and it's dependencies</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-15" class="slide ">
          <div><section>
            <h1>What is Rails</h1>

<h2 class="rails_description">
  Ruby on Rails is a full-stack web framework optimized for programmer happiness and sustainable productivity.
</h2>
<h2 class="rails_description">
  It encourages beautiful code by favoring convention over configuration.
</h2>

          </section></div>
        </div>
        <div id="slide-0-16" class="slide ">
          <div><section>
            <h1>Model Naming Convention</h1>

<ul>
<li><strong>Table</strong>: posts</li>
<li><strong>Class</strong>: Post</li>
<li><strong>File</strong>: /app/models/post.rb</li>
<li><strong>Primary Key</strong>: id</li>
<li><strong>Foreign Key</strong>: author_id</li>
<li><strong>Link Tables</strong>: plugins_posts</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-17" class="slide ">
          <div><section>
            <h1>Controller Naming Convention</h1>

<ul>
<li><strong>Class</strong>: PostsController</li>
<li><strong>File</strong>: /app/controllers/posts_controller.rb</li>
<li><strong>Layout</strong>: /app/layouts/posts.html.erb</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-18" class="slide ">
          <div><section>
            <h1>View Naming Convention</h1>

<ul>
<li><strong>Helper</strong>: /app/helpers/posts_helper.rb</li>
<li><strong>Helper Module</strong>: PostsHelper</li>
<li><strong>Views:</strong> /app/views/posts/… (index.html.erb for example)</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-19" class="slide ">
          <div><section>
            <h1>Create your first Rails project (a blog!)</h1>

<p></p><pre><code class="bash">gem install rails
<span class="c"># This will download Rails from the RubyGem repo</span>
<span class="c"># And install it</span>
rails new blog
<span class="c"># Will create your new Rails project structure, and dowload all new dep.</span>
<span class="c"># rails -h for more advanced options</span>
rake db:create <span class="c"># will create blog_development and blog_test</span>
<span class="c"># mysql tables</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-20" class="slide ">
          <div><section>
            <h1>Rails project strucutre</h1>

<p></p><pre><code class="bash">/app/
  assets/
  controllers/
  models/
  views/
/config/
/db/
/doc/
/lib/
/log/
/script/
/test/
/tmp/
/vendor/
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-21" class="slide ">
          <div><section>
            <h1>Ruby on Rails is Magic</h1>

<p><strong>Daily commands</strong></p>

<p></p><pre><code class="bash">rails s <span class="c"># Starts the web server on port 3000</span>
rails c <span class="c"># Starts the Rails console</span>
rails g ... <span class="c"># Uses one of the rails generator (migration, scaffolding ...)</span>
rake <span class="c"># passes the tests</span>
rake -T <span class="c"># view all the available rake commands</span>
rake routes <span class="c"># display all the routes available in your app</span>
rake db:migrate <span class="c"># update your database with the last migration file</span>
rake db:rollback <span class="c"># in case you've made an error :)</span>
bundle install <span class="c"># Install your gem dependencies</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-22" class="slide ">
          <div><section>
            <h1>The Gemfile file</h1>

<h2>List your project dependecies in one and only file</h2>

<p></p><pre><code class="ruby"><span class="c1"># Example Gemfile</span>
<span class="n">source</span> <span class="s1">'https://rubygems.org'</span>
<span class="n">gem</span> <span class="s1">'rails'</span><span class="p">,</span> <span class="s1">'3.2.3'</span>
<span class="n">gem</span> <span class="s1">'pg'</span>
<span class="n">gem</span> <span class="s1">'haml'</span>
<span class="n">gem</span> <span class="s1">'haml-rails'</span>
<span class="n">group</span> <span class="ss">:assets</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">'sass-rails'</span><span class="p">,</span>   <span class="s1">'~&gt; 3.2.3'</span>
<span class="k">end</span>
<span class="n">group</span> <span class="ss">:test</span><span class="p">,</span> <span class="ss">:development</span> <span class="k">do</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-23" class="slide ">
          <div><section>
            <h1>Time to code</h1>

<p></p><pre><code class="bash">rails g scaffold post title body:text <span class="c"># auto add created_at:datetime updated_at:datetime</span>
<span class="c"># It will generate a basic CRUD for our post</span>
rake db:migrate
<span class="c"># It will create our post table with</span>
<span class="c"># *title as a string</span>
<span class="c"># *body as a text</span>
rails g migration AddEmailToPost email:string
rake db:migrate
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-24" class="slide ">
          <div><section>
            <h1>What have we done here</h1>

<ul>
<li>created posts_controller</li>
<li>created index, show, new, create, edit, update, delete actions</li>
<li>created post model</li>
<li>created index, show, new, edit, _form in /views/posts</li>
<li>created and auto populate tests for post actions</li>
<li>added an email field to the posts table</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-25" class="slide ">
          <div><section>
            <h1>C for Controller</h1>

<h2>Your controller is responsible for making sense of the request and producing the appropriate output</h2>

<p></p><pre><code class="ruby"><span class="c1"># posts_controller.rb</span>

<span class="no">Class</span> <span class="no">PostsController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span> <span class="vi">@posts</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">all</span> <span class="k">end</span>
  <span class="k">def</span> <span class="nf">show</span> <span class="o">.</span><span class="n">.</span> <span class="k">end</span>
  <span class="k">def</span> <span class="nf">edit</span> <span class="o">.</span><span class="n">.</span> <span class="k">end</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-26" class="slide ">
          <div><section>
            <h1>Some interesting methods for Controllers</h1>

<p></p><pre><code class="ruby"><span class="n">layout</span> <span class="s1">'post'</span>
<span class="n">respond_to</span> <span class="ss">:html</span><span class="p">,</span> <span class="ss">:json</span>
<span class="n">respond_with</span><span class="p">(</span><span class="vi">@posts</span><span class="p">)</span>
<span class="n">before_filter</span> <span class="ss">:do_this</span>
<span class="n">before_filter</span> <span class="ss">:do_that</span><span class="p">,</span> <span class="ss">:only</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:show</span><span class="p">,</span> <span class="ss">:edit</span><span class="o">]</span>
<span class="n">rescue_from</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">RecordNotFound</span><span class="p">,</span> <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="ss">:record_not_found</span>
<span class="n">flash</span><span class="o">[</span><span class="ss">:notice</span><span class="o">]</span> <span class="o">=</span> <span class="s2">"Special message"</span>
<span class="n">logger</span><span class="o">.</span><span class="n">debug</span> <span class="s2">"Put a message here"</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-27" class="slide ">
          <div><section>
            <h1>M for Model</h1>

<h2>Your model, interpreted by ActiveRecord is the representation of you database table</h2>

<h2>It's responsible for most of the logic in your app</h2>

<p></p><pre><code class="ruby"><span class="c1"># post.rb</span>

<span class="k">class</span> <span class="nc">Model</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
 <span class="n">attr_accessible</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:body</span>
<span class="k">end</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-28" class="slide ">
          <div><section>
            <h1>Model Validations</h1>

<p></p><pre><code class="ruby"><span class="c1"># post.rb</span>
<span class="n">validates</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:presence</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="n">validates</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:uniqueness</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="n">validates</span> <span class="ss">:terms_of_service</span><span class="p">,</span> <span class="ss">:acceptance</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="n">validates</span> <span class="ss">:subdomain</span><span class="p">,</span> <span class="ss">:exclusion</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:in</span> <span class="o">=&gt;</span> <span class="sx">%w(www us ca jp)</span><span class="p">,</span>
                      <span class="ss">:message</span> <span class="o">=&gt;</span> <span class="s2">"Subdomain %{value} is reserved."</span> <span class="p">}</span>
<span class="n">validates</span> <span class="ss">:legacy_code</span><span class="p">,</span> <span class="ss">:format</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="sr">/\A[a-zA-Z]+\z/</span><span class="p">,</span>
                         <span class="ss">:message</span> <span class="o">=&gt;</span> <span class="s2">"Only letters allowed"</span> <span class="p">}</span>
<span class="n">validates</span> <span class="ss">:password</span><span class="p">,</span> <span class="ss">:length</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:in</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">20</span> <span class="p">}</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-29" class="slide ">
          <div><section>
            <h1>Model Associations</h1>

<p></p><pre><code class="ruby"><span class="c1"># post.rb</span>
<span class="n">belongs_to</span> <span class="ss">:author</span>
<span class="o">&gt;&gt;</span> <span class="no">Post</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">author</span>
<span class="n">has_many</span> <span class="ss">:comments</span>
<span class="o">&gt;&gt;</span> <span class="no">Post</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">comments</span>
<span class="n">has_one</span> <span class="ss">:commenter</span><span class="p">,</span> <span class="ss">:through</span> <span class="o">=&gt;</span> <span class="ss">:comments</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-30" class="slide ">
          <div><section>
            <h1>AR Query Interface</h1>

<p></p><pre><code class="ruby"><span class="no">Post</span><span class="o">.</span><span class="n">all</span> <span class="o">&gt;&gt;</span> <span class="s2">"Select * from `posts` order_by `created_at`"</span>
<span class="no">Post</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="ss">:title</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="s2">"Select * from `posts` order_by `title`"</span>
<span class="no">Post</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="s2">"Select * from `posts` where `id` = 10"</span>
<span class="no">Post</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">:author_id</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="s2">"Select * from `posts` where `author_id` = 5"</span>
<span class="no">Post</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="ss">:comments</span><span class="p">)</span>
<span class="no">Post</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="ss">:comments</span><span class="p">,</span> <span class="ss">:author</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:profile</span><span class="o">]</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">:published</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="ss">:title</span><span class="p">)</span>
<span class="n">scope</span> <span class="ss">:published</span><span class="p">,</span> <span class="n">where</span><span class="p">(</span><span class="ss">:published</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span>
<span class="no">Post</span><span class="o">.</span><span class="n">published</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-31" class="slide ">
          <div><section>
            <h1>V for View</h1>

<h2>Views are responsible for rendering data to the browser</h2>

<h3>They are usually associated with a layout</h3>

<p><strong>The edit view</strong></p>

<p></p><pre><code class="html">#edit.html.erb
<span class="nt">&lt;h1&gt;</span>Edit #{@post.title}<span class="nt">&lt;/h1&gt;</span>
render "form"
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-32" class="slide ">
          <div><section>
            <h1>The Form Partial 1/3</h1>

<p></p><pre><code class="html"><span class="err">&lt;</span>%= form_for(@post) do |f| %&gt;
   ...
<span class="err">&lt;</span>% end %&gt;
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-33" class="slide ">
          <div><section>
            <h1>The form partial 2/3</h1>

<p></p><pre><code class="html"><span class="err">&lt;</span>%= form_for(@post) do |f| %&gt;
  <span class="err">&lt;</span>% if @post.errors.any? %&gt;
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"error_explanation"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h2&gt;</span><span class="err">&lt;</span>%= pluralize(@post.errors.count, "error") %&gt; prohibited this post from being saved:<span class="nt">&lt;/h2&gt;</span>

      <span class="nt">&lt;ul&gt;</span>
      <span class="err">&lt;</span>% @post.errors.full_messages.each do |msg| %&gt;
        <span class="nt">&lt;li&gt;</span><span class="err">&lt;</span>%= msg %&gt;<span class="nt">&lt;/li&gt;</span>
      <span class="err">&lt;</span>% end %&gt;
      <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="err">&lt;</span>% end %&gt;
  ...
<span class="err">&lt;</span>% end %&gt;
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-34" class="slide ">
          <div><section>
            <h1>The form partial 3/3</h1>

<p></p><pre><code class="html"><span class="err">&lt;</span>%= form_for(@post) do |f| %&gt;
  ...
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"field"</span><span class="nt">&gt;</span>
    <span class="err">&lt;</span>%= f.label :title %&gt;<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
    <span class="err">&lt;</span>%= f.text_field :title %&gt;
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"field"</span><span class="nt">&gt;</span>
    <span class="err">&lt;</span>%= f.label :body %&gt;<span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
    <span class="err">&lt;</span>%= f.text_area :body %&gt;
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"actions"</span><span class="nt">&gt;</span>
    <span class="err">&lt;</span>%= f.submit %&gt;
  <span class="nt">&lt;/div&gt;</span>
<span class="err">&lt;</span>% end %&gt;
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-35" class="slide ">
          <div><section>
            <h1>Some view helpers</h1>

<p></p><pre><code class="ruby"><span class="n">render</span> <span class="ss">:partial</span> <span class="o">=&gt;</span> <span class="s2">"form"</span><span class="p">,</span> <span class="ss">:locals</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="ss">:my_var</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">}</span>
<span class="n">render</span> <span class="vi">@post</span>
<span class="n">link_to</span> <span class="s2">"Click here to show post"</span><span class="p">,</span> <span class="n">post</span>
<span class="n">image_tag</span> <span class="s2">"image_path"</span>
<span class="n">video_tag</span> <span class="s2">"video_path"</span>
<span class="n">content_for</span> <span class="ss">:section</span> <span class="k">do</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span> <span class="k">end</span>
<span class="n">stylesheet_link_tag</span> <span class="s2">"stylesheet"</span>
<span class="n">javascript_include_tag</span> <span class="s2">"javascript"</span>
<span class="n">checkbox_tag</span><span class="p">(</span><span class="ss">:published</span><span class="p">)</span>
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-36" class="slide ">
          <div><section>
            <h1>ERB vs HAML, choose your side</h1>

<p></p><pre><code class="html"><span class="c">&lt;!-- Erb --&gt;</span>
<span class="nt">&lt;h1&gt;</span>Title<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'myClass'</span> <span class="na">id=</span><span class="s">'myId'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">'description'</span><span class="nt">&gt;</span>
    this is my text
  <span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="c">&lt;!-- Haml --&gt;</span>
%h1 Title
#myId.myClass
  %p.description
    This is my text
</code></pre><p></p>

          </section></div>
        </div>
        <div id="slide-0-37" class="slide ">
          <div><section>
            <h1>Quick word about TDD/BDD</h1>

<ul>
<li>Encouraged in Rails</li>
<li>Multiple framework (Rspec/Test-Unit/Cucumber/Capybara)</li>
<li>Ensure your application intergity</li>
<li>Reduce the possiblity of new features to break the existing ones</li>
<li>Make you life easier!</li>
</ul>

          </section></div>
        </div>
        <div id="slide-0-38" class="slide ">
          <div><section>
            <h1>Find more help online</h1>

<ul>
<li><a href="http://rubyonrails.org/">Ruby On Rails official page</a></li>
<li><a href="http://guides.rubyonrails.org/">Rails guides</a></li>
<li><a href="http://api.rubyonrails.org/">Offical Rails API</a></li>
<li><a href="http://apidock.com/">API Dock</a></li>
<li><a href="http://railsforum.com/">Rails forum</a></li>
</ul>

          </section></div>
        </div>
	<div class="progress"><div></div></div>
      <script src="Rails%20is%20Magic_files/script.js"></script>
	<!-- Copyright © 2010–2011 Vadim Makeev, http://pepelsbey.net/ -->
  

</body></html>